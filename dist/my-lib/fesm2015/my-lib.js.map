{"version":3,"file":"my-lib.js","sources":["../../../projects/my-lib/src/lib/my-lib.service.ts","../../../projects/my-lib/src/lib/my-lib.component.ts","../../../projects/my-lib/src/lib/my-lib.component.html","../../../projects/my-lib/src/lib/my-lib.module.ts","../../../projects/my-lib/src/public-api.ts","../../../projects/my-lib/src/my-lib.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MyLibService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'my-angular-search',\n  templateUrl: './my-lib.component.html',\n  styleUrls: ['./my-lib.component.scss']\n})\nexport class MyLibComponent implements OnInit {\n  searchedText: string = \"\";\n  BASE_URL = 'https://uk.funzing.space:443/api/v2';\n  timer: any = null;\n  searchResponse: any = {};\n  isLoading: boolean = false;\n  constructor(\n    private httpClient: HttpClient\n  ) { }\n\n  ngOnInit(): void {\n  }\n  \n  /**\n  * Function Execute when user type something in text input after timeout of 500\n  */\n  onInputChange() {\n    if (this.searchedText) {\n      clearTimeout(this.timer);\n      this.timer = setTimeout(() => {\n        this.makeAPICall()\n      }, 500)\n    } else {\n      this.searchResponse = {};\n    }\n  }\n\n  /**\n   * Function that fetch records from server and modify that for highlight searched word\n   */\n  makeAPICall() {\n    this.searchResponse = {};\n    if (this.searchedText) {\n      this.isLoading = true;\n      this.httpClient.get(`${this.BASE_URL}/auto_complete_searcher?search_text=${this.searchedText}`).subscribe((res) => {\n        this.searchResponse = res;\n        let replaceWord = new RegExp(this.searchedText, \"gi\");\n        if (this.searchResponse?.categories?.length) {\n          this.searchResponse.categories.map((category: any) => {\n            category.title = category.title.replace(replaceWord, (str: any) => `<strong>${str}</strong>`)\n          });\n        }\n        if (this.searchResponse?.experiences?.length) {\n          this.searchResponse.experiences.map((experience: any) => {\n            experience.title = experience.title.replace(replaceWord, (str: any) => `<strong>${str}</strong>`)\n          });\n        }\n        if (this.searchResponse?.hosts?.length) {\n          this.searchResponse.hosts.map((host: any) => {\n            host.title = host.title.replace(replaceWord, (str: any) => `<strong>${str}</strong>`)\n          });\n        }\n        this.isLoading = false\n      }, error => {\n        this.isLoading = false\n      })\n    }\n  }\n\n  /**\n   * function for navigate to given external url\n   * @param url string navigation url\n   */\n  navigateToLink(url: string) {\n    let urlNavigation: string = '';\n    if (!/^http[s]?:\\/\\//.test(url)) {\n      urlNavigation += 'http://';\n    }\n    urlNavigation += url;\n    window.open(urlNavigation, '_blank');\n  }\n\n}\n","<div class=\"search-module\">\r\n    <form>\r\n        <input class=\"form-control\" type=\"text\" name=\"searchedText\" [(ngModel)]=\"searchedText\"\r\n            (ngModelChange)=\"onInputChange()\" placeholder=\"Search here...\">\r\n        <div class=\"loader\" *ngIf=\"isLoading\"></div>\r\n    </form>\r\n    <div class=\"search-result\" *ngIf=\"searchResponse?.categories?.length || searchResponse?.experiences?.length || searchResponse?.hosts?.length\">\r\n        <div class=\"search-result__head\">\r\n            <div class=\"search-result__icon\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"15\" viewBox=\"0 0 16 15\" fill=\"none\">\r\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n                        d=\"M10.5281 9.42808H11.2135L15.5 13.7135L14.2146 15L9.92923 10.7135V10.0281L9.67077 9.77077C8.72808 10.6281 7.44269 11.1427 6.07077 11.1427C2.98538 11.1427 0.5 8.65731 0.5 5.57077C0.5 2.48538 2.98538 0 6.07077 0C9.15615 0 11.6415 2.48538 11.6415 5.57077C11.6415 6.94269 11.1281 8.22808 10.2719 9.17077L10.5281 9.42808ZM6.07077 1.71346C3.92808 1.71346 2.21346 3.42923 2.21346 5.57077C2.21346 7.71462 3.92808 9.42808 6.07077 9.42808C8.21346 9.42808 9.92923 7.71462 9.92923 5.57077C9.92923 3.42923 8.21346 1.71346 6.07077 1.71346Z\"\r\n                        fill=\"url(#paint0_linear)\" />\r\n                    <defs>\r\n                        <linearGradient id=\"paint0_linear\" x1=\"0.5\" y1=\"7.49981\" x2=\"15.5\" y2=\"7.49981\"\r\n                            gradientUnits=\"userSpaceOnUse\">\r\n                            <stop stop-color=\"#FF7A59\" />\r\n                            <stop offset=\"1\" stop-color=\"#EF6340\" />\r\n                        </linearGradient>\r\n                    </defs>\r\n                </svg>\r\n            </div>\r\n            <div class=\"search-result__title\">Search results for <strong>‘{{searchedText}}’</strong></div>\r\n        </div>\r\n        <div class=\"search-result__block search-result__block--scrolling\" *ngIf=\"searchResponse?.categories?.length\">\r\n            <div class=\"search-result__block-heading\">\r\n                <h3 class=\"search-result__block-title\">categories and interests</h3>\r\n            </div>\r\n            <ul class=\"search-result__block-list\">\r\n                <li *ngFor=\"let category of searchResponse.categories\">\r\n                    <a (click)=\"navigateToLink(category.link)\" [innerHtml]=\"category.title\"></a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"search-result__block\" *ngIf=\"searchResponse?.experiences?.length\">\r\n            <div class=\"search-result__block-heading\">\r\n                <h3 class=\"search-result__block-title\">experiences</h3>\r\n                <a href=\"#\">Show more results</a>\r\n            </div>\r\n            <ul class=\"search-result__block-list\">\r\n                <li *ngFor=\"let experience of searchResponse.experiences\">\r\n                    <a (click)=\"navigateToLink(experience.link)\">\r\n                        <div class=\"search-list-block search-list-block--blog\">\r\n                            <div class=\"search-list-block__img\"\r\n                                [style.backgroundImage]=\"'url('+ experience?.img_url +')'\">\r\n                            </div>\r\n                            <div class=\"search-list-block__info\">\r\n                                <h3 class=\"search-list-block__title\" [innerHtml]=\"experience?.title\"></h3>\r\n                                <div class=\"search-list-block__content\">{{experience?.location}}\r\n                                    <span class=\"search-list-block__date\">\r\n                                        <svg width=\"12\" height=\"13\" viewBox=\"0 0 12 13\" fill=\"#424242\"\r\n                                            xmlns=\"http://www.w3.org/2000/svg\">\r\n                                            <path\r\n                                                d=\"M2.5 0.423462V1.59013H1.91667C1.275 1.59013 0.75 2.11513 0.75 2.7568V10.9235C0.75 11.5651 1.275 12.0901 1.91667 12.0901H10.0833C10.725 12.0901 11.25 11.5651 11.25 10.9235V2.7568C11.25 2.11513 10.725 1.59013 10.0833 1.59013H9.5V0.423462H8.33333V1.59013H3.66667V0.423462H2.5ZM1.91667 2.7568H2.5H3.66667H8.33333H9.5H10.0833V3.92346H1.91667V2.7568ZM1.91667 5.09013H10.0833V10.9235H1.91667V5.09013Z\"\r\n                                                fill=\"#424242\" />\r\n                                            <defs>\r\n                                                <linearGradient id=\"paint0_linear\" x1=\"0.75\" y1=\"6.25668\" x2=\"12.8466\"\r\n                                                    y2=\"6.25668\" gradientUnits=\"userSpaceOnUse\">\r\n                                                    <stop stop-color=\"#606164\" />\r\n                                                    <stop offset=\"1\" stop-color=\"#424242\" />\r\n                                                </linearGradient>\r\n                                            </defs>\r\n                                        </svg>\r\n                                        <!-- <img src=\"../../assets/calendar.png\" /> -->\r\n                                        {{ experience.date | date:'fullDate' }}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"search-result__block search-result__block--scrolling\" *ngIf=\"searchResponse?.hosts?.length\">\r\n            <div class=\"search-result__block-heading\">\r\n                <h3 class=\"search-result__block-title\">host</h3>\r\n            </div>\r\n            <ul class=\"search-result__block-list\">\r\n                <li *ngFor=\"let host of searchResponse.hosts\">\r\n                    <a (click)=\"navigateToLink(host.link)\">\r\n                        <div class=\"search-list-block\">\r\n                            <div class=\"search-list-block__img\" [style.backgroundImage]=\"'url('+ host?.img_url +')'\">\r\n                            </div>\r\n                            <div class=\"search-list-block__info\">\r\n                                <h3 class=\"search-list-block__title\" [innerHtml]=\"host?.title\"></h3>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>","import { HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { MyLibComponent } from './my-lib.component';\n\n\n\n@NgModule({\n  declarations: [\n    MyLibComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpClientModule\n  ],\n  exports: [\n    MyLibComponent\n  ]\n})\nexport class MyLibModule { }\n","/*\n * Public API Surface of my-lib\n */\n\nexport * from './lib/my-lib.service';\nexport * from './lib/my-lib.component';\nexport * from './lib/my-lib.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}